# Copyright (c) 2019 safris.org
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/openjax
script:
- 'if [ "$TRAVIS_COMMIT_MESSAGE" = "Update README.md" ]; then
    return;
  elif [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean deploy -P report,deploy;
  else
    mvn -Dmaven.rtest.skip clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: QY5x9AqBb8cSzBVrFaO7lwXy/rQcjG0nT3K8Dly1ambZCArfpix2vHVwE1HRlj0dMQMp8ypAjgKrqVF+Ol/DRD9ra6Srd61CYYUP19fRikdUoC3eAVPqFko+7ZxQwz7fXWtntbHYBM78LLJESFkjWy7swIOvGVEP4GSWfHS4ppz6hR5gOKECLYTqqAb/w5S0P6cGcSU75oyvdQ0ElI8nZ5EmhEhdmf7brsOoZXd7mTT8lK6tk0QhuIlT5dHJJGDmqUP0TyNLqJF6mTY/YjQuMkgqHl9DqAG2+e2LN4ozuKzPUYO2qKE2r2v91zzaMhdvBd8kAHwCAtWfU5PoA5Bg6/bVCfvRq3t3LQdpt6hiGsVEo56QX27YjIISn/wWY0cr24SW8fk3tURX9q4Ql/iXB+NVEbn7G3r6AViTMN1Hx4KXvYttEBnfBoAkXgshW4Fbou3zfqXXJUP2rqSg+kQUmdZxydlydsJH2PwUuGDAs3z6GBv9bOx4U6UK/v4yRgmdudtlnkYmcrdMMmxNMq086lpyRnHU2aACOQR4KYs9FkbctH7GS/MijY2zBWaIoI3b3aRCDtg1nPKrf7oLNTPSbqal/dGFc0For0CoycnB/KnwUTjJ+IpsEJk+RCe0uDS86+TkmZMV9hMaZnbVwmLwLHF8vCA4YISceZMqjQ/cZlE=
  - secure: GvW5njqzNxrBXeWOQIwHBc9pQvngNxheVSAQa60HEvxW+NGemn/ehUiuabuH22COxDCeB6CY3GxtLEt3yfmYYJbJHCXwx3uZhl2X/TWpC5Q9NZBdnvS5X4DTLvi/AVNrISQoxVrK/EytIFhuaG0E0mRJFKm/VtYWaNdZ+D2VhdH89dW2PaL1Y1Bqn46rXY4I6IqNbWJUVyej60+bxasfGeVN+03z6NtbIqac3G5+PCarPgCbATCwdXUsw4GAERA9urW+tcbYELDVLWGqwU7uNtHtjuLTBkdmBjoafeQTBVd+rRZk8PFnhBqf4zk9iU9E3lZkUiRgPRVniPtpIsrJAkwlg0DeY3ZQcQXCmJe3vchkD4m9iYq6HO8aTePKDH5vrItdiFlWHnU+pOa/aj2yELTU6qdbqMSsp1CcHPhWohTpYdNtVhCUC4EbwV2k8TN4HFMpnzuYA87nFHATKL9ea6MNxFtGI6GATrH42KOpXyjWNVmHpUGBIoOHzgQMTfLZ3B85e10M626Bx4cSpSi7CpZVuk7F1SKH5HkjbARnAjpuLEYUxSRKS3VpPrpH00CDOtN7iCSRYTw/fxk8haFIilzPyqPfQpUN2gnDz+z3CETb1SaZhEy7XXv7pe1ml7proqeLbHCCwZlyAjpoiDAeayff7Na9Nm4YF7U3o/kfOLo=
  - secure: FiwBrVzv6I3COQ/sJGsXfRUD4dbx7cIyDtBl0mVawe4y5oaxS6f8YPcgPNh+odNMHo3fnPRv76+/0wZhRD8f6YB1Fpa+kWvVGmygh3CZaxh4KneE0n694Z4/AA64UZaSI1JvGHlE/MF/JUnIbVCN4Qfg40qjJJm9KzlRUA4b111968K9rfpHGRKl4XgggtgVYYeI6NPsLafhNgbXmkP4hUMXwyblGkh/2rCoSOCM+WTdkh1Jb6Dazm9hPUcZ2xlxxvmzK2rtpY9TIq0JC7XJbcCmI8L87oVaY7mxL//2WhjCvjDfbNXVQh6ufXN10aeR0F1OBXNgp0T6w1WgJB83yNNlGy9yGvH9bUCj5+gbiTDUXGJ2nIWGY5PMTXwnCsfgE2qofNERkT91CedEv/wp1U+xNFC/IWNLbuO/ttU2vYSafFV6ois8JYWjY1S04xcmnEkswrg95f3CKBAavK2XEGpOe+RN6ZxCxKQKf4Jf64H8cPT0Ty/CWNU03SM5XwLfveXs0+TNsn0Iz1a4VbIcfKUYcBkk0DhIkFTpipbWpMUBXB9ahnf1CM63QTYtGbXwsprd04xpn6BNj/zn2oJFdgZupLb4An8O5PHE2a0QkizzUouehpWEcUUMp89a5q50qvZ8keas9U4ALaKUaYGnExs9jPnkPOm5WBiGC8dFr6U=
  - secure: wPLIQa7uceyN5aDvzvIAVcl6AsR8ffMCAa98rXfL8oiyA1211qakw8QWIAwB+YieVRVu+6fRf24RjZQPLl2BFX5lONKZ9SuUIGsMoMBJHWs+XMeDej9uJeoMaArGeOUljWWdAUpwYFOi1xMqcOfvvBDda/qUk3NQI5wlCliSVj3x1GU/YLdxC0mKIrOZTt4YKW+PF0Z158XOEDRKsPgFoBKY888YK++W+nLA/Lb9MU+0JXofG9fnSKKYr6HqF2EvtDXcPNiTrXsp3ivizEtPeKVLq9urF5MZc+y2bkSXD+1ad7FIxu/aJUJwBVlakVjgBBjDXpVc3olPnY7HfjMd5EciH4w+05Xz2rscNa0kTLNFfR0MKCr09YiPU/HI4LgnX8HqwUyYdjYqTzlpwZ5+kP7ZuPVxz4y/EMehQyf/uyPERy3XSYk5AOPQ+sN/+HRBRO1hmm/ejOHN6IsZ81Uyh1YOYAo/PpPArDP/zYp40Vd9ti2N2lQ1UO8QD4NshKZpB7Vkl3RMFQRH0VA1ugTHVimoBzMgs2jfNBm4PzpBSJPxF8RKVi8JcBxNtboto4MYUpZlZsjYOYgAizZMaL+HdEbhYnjxCj2fzaHsZ1nihIRLlwPfZncxVLEtwgvLNGR78jlCHYkTg6mLCj/9wv6Ak7NEfgKYIyEQ0rnchpUuC+0=
  - secure: EguCwxA9gPv4xZiysODgY8IxxVpLGaEWWo53FDfWfQ/YptLJ7TSRJzcevCnP5DoAsCRgJueDMD2yyAdyQxcs4qLJKp33mog2k4JwwOe753mbbw93eQO67uuQ14NAlyVBjwHm1TOW/u8A+OxrdMiNg8UnFtuoU5NAK0CnwFTX86sFE+9iFLICnVIziaKiCJVKDupLw5AXCcjEJXPF3uqJkGtN57Cmj9Wsl8Dq2MZNEf6VtFXU+fd29q7EUbcOyfSHsK+Vo+g89ZA7KTA7/H3Fk9t0Do6GWQs2qiehwjqtofGLlszy+Ta5LViuBCt1T1DBv7f39V3stbYC1v7E/hWQ4zKfXpDW8m0m6ZNnK2+H6YDDHYRvzOCuUPOdhyr+cB0zgBoLgLMVccDMoW+vMZcssCbCdAd+z9Z2fAXxLFME/KpJ+dFf2B2pGkj1CedV75FCkTmMBP4uds080jGWTHlkx26ymniAwa8+qkbEPQ3RNClgeHAkt3DBzxcYrxBjhnes+7YZXQmjfFRf995PbELgkl2zzTt/jd8orw5e/NlKtSZojyvgHYIYMhVueWFAAjPOkBGZ4+cP+0sZfoiXK8Q9gOqPvjXiUP4XVZ/K2+tdosNgwlvuRdMOehsWYugoXZ4AEgnvFnYcbKcus10r3lTatFSv+oGdJxVZuZY8cpj4JrY=
  - secure: Kgi3uG6fwlaUFa8dD7o8yUAcdSganROorMqwsxXG9czqJIqPEN2ZP2r9ITH1QX0V/+d7UnF6Udt301mTn1NbsFf/zYFS9+qYcgGbFkmfQ/ZHxwN8Mgs4co61q0Uz4UWWMLNvd+v4Atm7FdnO2b6XAXbpwyRNtKldQK6vRIG/aoP88bXj0Xue0CgUdrovEB28x7AcDfXtjj8hdqLmrEF42ZfVgaRFInIdX1Kt/RFrwXUAw4hoTTbD3YCiQBluQm2omlid3jvNa1XyjsfvF5/lwMQRbf49OAvLy+Uwob8/i0WmNDrtqMMER0f9JutOjtRk+q9OeqnIMruHI4fjkfkGmrL5EdBuatr+PA3Yaw5OiZeuliLlvXXDc/U4+s++b0A4yY7CopZ3T8YKgnUH5qsL+5Jlqn68EJ8Uiedg1Z18cgAXfgOjHL4ZIwMOouyzHGab/fP1x7vETK1TxoOcS6rbrO8VuMHwClyvvcs53PleoPijYJfq37O4V/ONwtZ/ANl7QPR1higtLCeWDJu4EeLFimQsISuVskQAyAo6LWQUEpVJCHz5qAuI6dEvuv3h5GyWLT/WwcMq/i+/hs85As2ItINr4Md3HEEzbNsunAu9O/nzHBd6sXJvOsMpwHBGUyiXmCobaGN0CAjKm39uThrP0vc4J9a9+etWffW/UWkTSIc=
  - secure: OKow9ulazL0m89V50HyEYGoaWlTthFgv49i0Q1oUIcWDK5KtvUEWCHMM9FOuidSSztlPa2vhaRxaZrLZA7YYo42Ub6dXs/hlsb6Fa9amTQIiXHr2oUYWx7uR47gAkX8NW/1BQL94xavHdBSutpA9NbeWoFYgCBIBqnw9695F1qs7qXK43sJufR/xmZlvQu4xRJCfNd1Zoy21kmqNdOQ6TG/eGQXABJqeCoRPJVqf2YCE+jOp5uMIJAZmVa7T29Gn/GeIh9WLwxagCK0I934myNIDtVwjroZ2X59tE/3WETtArXkfMc8xCz8eCJ+ATiNoO92RLKJRRUy+KdyV5CaYefDNsJHkZKb1x/hgoRo70B0PCu7lsUURcI2VnUnV2YyRpACEEY/u80DYcsRo2VtMgoJFVOZhLXB9lYiq4EwOZhznb900/0eMXuAyCmghGBXaEc0hg8Q86i3889Fw9EF+HY8l0TzDiDbXTsYWVaoUAjrpJolIRAZHdXETV3xizMKd91dWycmVkbko5OicZ3K9ZFrZ+jnSVMQzBbYJNZfCx8//I31nYv+tOSRfgMZupvOGWRUoQwkR92b8dp3/pSxV9A42ocVcwrKbE/99mmdCghH/RgIzrx+bZdKnJDO4rR/nI4nhybGjMhCDkjFYbXJUdbfpDiVFg08g4pQ69morg+o=
