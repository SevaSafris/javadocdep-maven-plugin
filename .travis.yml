# Copyright (c) 2019 safris.org
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/openjax
script:
- 'if [ "$TRAVIS_COMMIT_MESSAGE" = "Update README.md" ]; then
    return;
  elif [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip -DrepoToken=$REPO_TOKEN clean deploy -P deploy;
  else
    mvn -Dmaven.rtest.skip clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: Az737vbM2LsOoQkUuMn8Dc9eCDmYhUdbOG3CxvRGD+XJV97v62fCO7lIrmZSlZhtjq8gzafLg/lWxexhkv9RrPXI3q2yHhoWuDcISsAxQR5aLPGXNi5A1MlqRPaPYosCTA3Cq3wJLguY2lBWKrSj0JPaEytJuvPGjl5NA+pBB36+L4pysd/xJ3q0KsCQHfDx3bA/vjp2YNfG5eykTtyQbaNaUn2cASBgK+A42wWZbKzMGyFzt3/JvfYHkgBaoj4IPekDFFbgN4agEzxAuwfjEYAGMhMjDQHwgUPPVQxZVzlIxC3gsdmM6Fw2xrnycGGdeJZYiuSiPndSLSdHdgHX+orbzhltbmlQwKY+tKh6TNeq2oOwOtNwNNR3Fc1d6dgeoY/BpoogwOj2QJ/ZflWI2ykLVRalbywORA0T2fY2Mr0M2raZ9wFL08cNB6Z1tezcyvspuPtHQjzqXcMNUtx3+5xn8CUE8KSvalgd5ec6ad5COlIecHhSJJLlxBqaXfqN1ziMKzcKj7g5WXkdfi6/GTHgpR10WbkN7zqtm+Vu826pPiQWL6rprgruklBfF7TLiXBW6xe+dHIvdtf0+85hQ4P18Rq45eGqnh9Q8PtucVz6x4AQduCowO1/2Q0MjcouheUnibhl1NuKrrIywOVlt27xJOkiPOzXZQB0FRTSgIg=
  - secure: VCD7c7Z7mX+tyPpK3weUjJTnPhaILEmnW6y4s/7DxSJtuyafjDbPcycWCyQJ5QVIsOEjrdfZCHXhL8OImWGrs5dqGdTa59fNi6X5dm3WwAQ8NYYlvPFXDVJxwvv/JMs6akEhpBzi6qxj+MEu+A1M1TyMgMhxv44CDgMV9FEa1ao+/oaQrX1VTtwOkKDfUC0DnmON5tesDofWdxL4TBfStRV53/Yy7Jnb7VbIz6udnRGps96SWHuV6a6eW6kemOKPdilkXYTkPoM1VWCalPWw8qqVI2G//qvoqf44yCOAX0S/vjA5tcoF/l0ZzQYOY+/sWaTITXcKJhJHoxoYct6PV5tCG0+ODiFXwi36lenyb/7YZh+Sn6QKymrR1ZzAIr+/z2QtEIXxQd/PkA0K02PnxV2TcywtWCfY1ddCXheQrweLZNSSvzcmDW2XZ5sIuav4szl9Uwrd7gymmnhhOQ1Aksm9eH+OOMaIM8t5/rQZaSq/hpo09anjxh4BNBMWyt179htnA7IFb7tfOaCUKxcOk1Xm/5TH65i2KjRa5qUvpV6yrXiojkH6VQmw9g8gR0zT8NJLvd70S3amR3ketDHGgA5hFCSSqwUHFu/N23R+0jAEWntjTE2aHj6DuZJX/kjyK1bL+CQ00Y51E4IzxsrEvBsWViiDxrE41pE/vcpnUDs=
  - secure: s13LDrp7OiCjLbF6xF2GwPLcHn/F9Ue4HiXzj19ysX5esm6oD9dUvAadzK6aWEeNBVsyNnWe51DR3yB2pBAxFCBXC0oIvRuq0Npp45Syiv/6a01lDb0sPAA/ftzEus1DNPLt/PsfMnRJYQ5/x9VCYrwIZQBY5exDkdsNL3mIFLoX6m95ltVFEED/eiCQ7VzDoCqK2C8yp4RVPLy+h/SECsJjLC3IhMgEuivn91AWQBZInz4NX3fYoLaoyglm6NHfTPh2F6ywDj5rRMFAcipkrVJyuc8IkwqXwRrhn95hTufrrtJApHnNKo/82TCWZNsXxGxmo5lQ24IivMbsadvo2ziZyIbEtmlBSVoaNZ+o9ZzUKehWO0Cprho/A+qeSkL/uZG6lcHebJV+R2khn0nwFxas6xeTg0OaRN/AMnlzZqfvhkXvWCc6cf1IPv91D78YIbVbwSAAeAsa7SdMMPBKZ076SD54BUjDLIfBpIQqWPRaDROX413yWKZquYJn4TeVNyIONdCoM6xnFOybWXzC0UYydAqFZzE4UTH7YVAkFuKhcSvVIUzuD7iWMUWdQCC0r5zsPWwMMKZO1ZZdbKrl2bcKQTbUrnqW2EfrQbYhEcX2K+w8ZyJeM4sR4weOq+2pSFn821lZXVzEpks6ISw0EcqzTEQBYgjWMee6V+kBIJg=
  - secure: eewDfxJTazSoTnK1BdkASgY78ToR5qDPTL7EMh+ZfDbb28kn+42EbkZB7kZ9rFpYAJIESwA49xOvOLZfpjGuLp57t7ODDL9zbZhynCgi53nh3GJ8y9B0RMN7ivuM1L71IBkRAqZjx4+iutWSY8BCOGhjVewlT8z3oZfI9EQJKxdyytLpstL2Z5Dwzh9FHJz/JewpOarnvITOdVFoUL5ODVjj1TIGfSZLKV0l+9tgzGL0Mvt216YPcmzAgn85WBKr4GzeCpLkXNGQ/4sdZ5Sp1N7yYJGJ2nzGn/HImOo7yi0fv0cmb+4HtOwEWv53YLwcgq1K9FmFE0AyXMrN0O/9TM7aylU9lru7BRNrzC1mqF8MKxu7rnFkOHlPlmx+WA/lEjvZu5WOhdpZ5WXwGc3eUMt2oVupTDnZs/IgJe4qoZSfwl4XaRYaXQ2lIDOwtTYCIaHqgfYF1hi0dCCMVwlbMLIzhqECLDhVg965sbBCCji4XPV+Vp4fxxlvJ3bjUT9LKSkSSHByV84n3GSc8xROfDMpuyD0J19bWiSONy2IvWITGDR9Baoqt+H0eLsKe2Igg4Z4MgSnKQcLUeARkrx39MOiTpceqhIXkYa0p8embtcYxO0onlxhuoLaoqS1YfRuUiXVatWsCYRezuyg5SnbdGscfvuUrsQPitHJUbvKUfI=
  - secure: FFJB517xTfXyIXtcmbgUizSMDUktcVDFE0v0aOgQ/z3dZPYlqwfWFBfVW/6HhG2cDYaaXNoSFU++8uhncqiNJBGyoVS/7dqxHPpW2aiTv9raSzxt0E/WR+C3wcOtc0oNYtcUI+QXuruUtBwxNCb+lXQCoxtMRd0dqSmqCqt+a7pD+Vn089jsBy8IbJNobLvSqTDYI6UY6TlH2Tnbz1MA12Vjd103noE9cC8OFV+E/tLPTZllg1mSo0M8SL4jXOmXgUrmmefdY5UnNBxNYiPHnOn9PVZEh9kk0IW2g4wsm+Y2hU32Wkf5W6o31ElT1/Z81kwMGY/XPYxY3n00lBgC3RUIT9vzhGu++kDaMqYjCgiloJaVa2A3V96gfBiEL7el105InkobolGOskptlhohsCBj/TmnD2GPPagvE8rcahgKC18yKPaB2vzn16xB9zhRz4z1QPRStgBlPIJj2mtcZAaQlIg81y+Vq4t90FvNsh3p1IBIY5QMrnhMuXjNTsIKMnx+1DLbOE0Ils46l+XB3EVjAiFsrujELUr9bHU+4F4jDPb/Fh35d7ii1aNF1N5m6Wlprxvc4DcAWSW7QoGqKJvExximN1LV756orS9MnLf0zhP+ypPcKwYqZJDeQ+2hrRDfiziUZzHO4/9qlptSpn9lbSGLrD0B2op7t6rqPkY=
  - secure: Rc/1pWLhKeMrC78caTvNkjQ0ipbPs1Q9+lPyKxZ47fjfSWiC7yeuNj9s9S0F9EWvIS4KILgyvYb99OMSZnvHQq212gxo9X9Z8I9JrcDBRT3dBewlylRZ8YtnNZCjwjcMY84X4vgRl5lQ7QyEPfmhujNUFd5B1JB8Ionzr14B9mzSHkSlR5CKI3VWDzU9isYyoGYO9ruKhUgh5yrgG/LWHy/YlThsModHUNhknIhFz2yYgOiUkEJAaYybDuYaTL6IXdx4gO0a4hkMp/x76cQI4qwr501LJrj45VchqJatF0JvFoVouD10mEg7wIGogrwRnOpzqeS0QLCgHiZCyC/nEnlffjxVkodH3Ofptosup6X8YYhVRCZqYjCV+nIAU0ENhUep0DeMesyhjJFFMeSye4On4BaG+iDCL0W+j9u/xN5/02HdwhyOeHkgxD+9VLIu3xDa0LdQeIeAIQDh3dLbxtyAvNoklBYAuxMf+3tER5PbU2YXQI9t520XY75OsoHGr0ggP4tG9oue9oO4NVkwypfhbvSWrYgIoebEakVuh9LtXkaXkjSvmU0l42cC/wyX0Go6fFK9DwxFRegZo1AItvqDqHpj1tXNP3hwE9+qBMveaWF5xZjfwHwyh0wpeLfz0DdEe93HIxUN866GcG4rzKrRB/tc8f2e2JOpCALMsrg=
  - secure: xpPaLMNpzxkOpQAwTxUVUWK7GtY5mTise+nyeDZN3yk9SERhmk8+NiuT4l4srpZH7TOH9mSz4wl4ZeZ8ZDM/rRVUOiVAflDkZPvdlP6LW6DzoF+aXiODKkgtXbnHK33xFykLncND6OczE31L2fPRGb5rQXiVTYq9xu+kzVEP0FqdpbW26DaPPBZsSWIc8UrjwKn46kOkJ26Z8HgfRjMnLYg5I5ly7NEwa56w5TUcS2zBj/2zDFV8rkw7bxT4rREDj07jyDyWDEwmjQ64MNrNjfFzOpLfcZisp+tRv7aSexzMEZXqzKX3wXSm1SxLIJ57SvneUBgX8QY+UVwAgkUKDrvPcDSnloNHrIENoQMxFGvySFSC9wBCQ6K7Usw4J33EU89I2OSDaKBVt9mtH6RK57UMECWvnATs5Us5eCZXPlYAEVAUSs2KQp49yBG1AeKaumPXVizPl+kphAESzbZGWxYkpsS5npg2haJ03uPNWJYUSs7U0Sj1gEH0Vh6UJOLAIertx3nnllm4ZXiKMPcPxU6PYJlQ027r0tsU/fsosn2T+TTyhD8sTElPEfyJPb8ACTMltatydp+7tST8k4k+0WSObCHDIoFqz3l7N8jWyl0GpcHsQm/N9kf6Odddc5crE7D6lr3euZGCcR4YE+Cl5d5JL17poF+RoSHB5b4qU5g=
